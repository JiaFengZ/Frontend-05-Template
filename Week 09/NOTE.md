学习笔记

# 解析html
## 第二步
* 用FSM有限状态机实现HTML的分析
* 在html标准中已经规定了html的状态

## 解析标签
* 开始标签、结束标签、自封闭标签
* 暂时忽略属性的处理

## 处理属性

## 词法解析，处理token，构建dom树

## 追加处理文本节点

# 计算css样式

## 收集css规则

## 计算css规则的时机
在解析`startTag`时计算元素css规则

## 获取父元素序列
* 在computeCSS函数中，我们必须知道元素的所有父元素才能判断元素是否与规则匹配
* 从html词法解析的stack中可以获取元素的所有父元素 
* 计算css规则匹配元素的顺序是由内到外，从当前元素到父元素逐级判断是否完全匹配

## 选择器与元素的匹配
* 选择器要从当前元素由内向外排列
* 复杂选择器拆分成针对单个元素的简单选择器（假设都是简单选择器没有复合选择器），用循环匹配父元素队列
* 实现复合选择器的匹配

## 生成computeStyle

## specificity的计算